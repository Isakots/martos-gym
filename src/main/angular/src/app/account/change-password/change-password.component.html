<div>
  <div class="row justify-content-center m-3">
    <div class="col-md-8">
      <h2>Jelszóváltoztatás</h2>
      <hr>
      <div class="alert alert-success" *ngIf="success" >
        <strong>Sikeres jelszócsere!</strong>
      </div>
      <div class="alert alert-danger" *ngIf="error">
        <strong>Hiba történt!</strong> Jelszóváltoztatás sikertelen.
      </div>

      <form name="form" role="form" (ngSubmit)="changePassword()" [formGroup]="passwordForm">

        <div class="form-group">
          <label class="form-control-label" for="currentPassword">Jelenlegi jelszó</label>
          <input type="password" class="form-control" id="currentPassword" name="currentPassword"
                 formControlName="currentPassword">
          <div *ngIf="passwordForm.get('currentPassword').invalid && (passwordForm.get('currentPassword').dirty || passwordForm.get('currentPassword').touched)" >
            <small class="form-text text-danger"
                   *ngIf="passwordForm.get('currentPassword').errors.required">
              Your password is required.
            </small>
          </div>
        </div>
        <div class="form-group">
          <label class="form-control-label" for="newPassword">Új jelszó</label>
          <input type="password" class="form-control" id="newPassword" name="newPassword"
                 formControlName="newPassword">
          <div *ngIf="passwordForm.get('newPassword').invalid && (passwordForm.get('newPassword').dirty || passwordForm.get('newPassword').touched)">
            <small class="form-text text-danger"
                   *ngIf="passwordForm.get('newPassword').errors.required">
              Your password is required.
            </small>
            <small class="form-text text-danger"
                   *ngIf="passwordForm.get('newPassword').errors.minlength">
              Your password is required to be at least 4 characters.
            </small>
            <small class="form-text text-danger"
                   *ngIf="passwordForm.get('newPassword').errors.maxlength">
              Your password cannot be longer than 50 characters.
            </small>
          </div>
          <jhi-password-strength-bar [passwordToCheck]="passwordForm.get('newPassword').value"></jhi-password-strength-bar>
        </div>
        <div class="form-group">
          <label class="form-control-label" for="confirmPassword">Új jelszó megerősítése</label>
          <input type="password" class="form-control" id="confirmPassword" name="confirmPassword"
                 formControlName="confirmPassword">
          <div *ngIf="passwordForm.get('confirmPassword').invalid && (passwordForm.get('confirmPassword').dirty || passwordForm.get('confirmPassword').touched)">
            <small class="form-text text-danger" *ngIf="passwordForm.get('confirmPassword').errors.mustMatch">
              Passwords are not matching.
            </small>
            <small class="form-text text-danger"
                   *ngIf="passwordForm.get('confirmPassword').errors.required">
              Your confirmation password is required.
            </small>
            <small class="form-text text-danger"
                   *ngIf="passwordForm.get('confirmPassword').errors.minlength">
              Your confirmation password is required to be at least 4 characters.
            </small>
            <small class="form-text text-danger"
                   *ngIf="passwordForm.get('confirmPassword').errors.maxlength">
              Your confirmation password cannot be longer than 50 characters.
            </small>
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Save</button>
      </form>
    </div>
  </div>
</div>
